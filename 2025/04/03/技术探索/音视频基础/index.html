<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>音视频基础 | 松风狸 | Breezli</title><meta name="keywords" content="音视频"><meta name="author" content="Breezli"><meta name="copyright" content="Breezli"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="音视频基础"><meta name="application-name" content="音视频基础"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="音视频基础"><meta property="og:url" content="http://example.com/2025/04/03/%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%B4%A2/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80/index.html"><meta property="og:site_name" content="松风狸 | Breezli"><meta property="og:description" content="音视频，音频和视频并不是在一起处理的，而是分开处理至最后合成的音视频   开源脚本 media-source-extract 可以无差别提取网页显示的所有media media下载后为音频视频双文件 配合 mkvtoolnix 混流器可合成为原视频，感兴趣可以尝试一下  录制原理 播放原理 解封装"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://bu.dusays.com/2025/08/22/68a756bf494d5.jpg"><meta property="article:author" content="Breezli"><meta property="article:tag" content="前端, 博客"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://bu.dusays.com/2025/08/22/68a756bf494d5.jpg"><meta name="description" content="音视频，音频和视频并不是在一起处理的，而是分开处理至最后合成的音视频   开源脚本 media-source-extract 可以无差别提取网页显示的所有media media下载后为音频视频双文件 配合 mkvtoolnix 混流器可合成为原视频，感兴趣可以尝试一下  录制原理 播放原理 解封装"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2025/04/03/%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%B4%A2/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css#fontawesome_animation 如果有就会加载，示例值：https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"春梦随云散，飞花逐水流          ......","backTitle":"草木缱绻，风月无边              ......"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: {"mode":"api","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: {"skills":["💻 前端技术学者","📕 红迷","🌄 旅行爱好者","🎨 国画九级选手","💤 睡觉居士","📜 诗词爱好者"]},
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Breezli","link":"链接: ","source":"来源: 松风狸 | Breezli","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '松风狸 | Breezli',
  title: '音视频基础',
  postAI: '',
  pageFillDescription: '录制原理, 播放原理, 位深（单位 | bit）, 帧率（单位 | fps）, 码率（单位 | Mbps）, 视频基础, 颜色渲染, RGB amp BGR, YUV, 444（专业视频编辑）, 422（摄像机输出）, 420（最常见 | 网络传输）, 420 NV12, 420 数据格式参考, RGB x2F YUV 转换, 帧, I帧 | 关键帧 (Intra coded frame), P帧 | 前向预测帧 (Predicted frame), B帧 | 双向预测帧 (Bi-directional predicted frame), 解码顺序（IPB）, 显示顺序（IBP）, 压缩, 视频压缩编码标准, H.264（AVC）, H.265（HEVC）, VP9, AV1, 音频基础, 声频, 数字音频, 采样频率, 采样量化, 采样精度, 码率, 帧, 帧长, 存储, 交错模式, 非交错模式, 压缩, 压缩原理, 音视频, 音视频同步, 概念, 方式, 常见视频封装格式音视频音频和视频并不是在一起处理的而是分开处理至最后合成的音视频开源脚本可以无差别提取网页显示的所有下载后为音频视频双文件配合混流器可合成为原视频感兴趣可以尝试一下录制原理播放原理解封装分离音视频解码同步控制播放顺序渲染位深单位举个例子的颜色通常基于每通道的模型整体颜色深度为位帧率单位帧率即每秒有多少帧画面帧率流畅性能需求人眼对图像的暂留时间为秒因此被认为是连续的电影帧率一般是电视剧一般是监控行业常用音视频通话常用码率单位视频文件在单位时间内使用的数据流量比如码率分辨率帧率比特深度压缩率码率分辨率清晰大多数情况但模糊的视频文件大小码率也可以很大分辨率小的视频文件可能也比分辨率大的视频文件清晰对于同一个原始图像源的时候同样的编码算法则码率越高图像的失真就会越小视频画面就会越清晰高分辨率低码率画质模糊如低分辨率高码率画质锐利但文件大如视频基础颜色渲染该颜色编码的原理是控制三色的明暗来组合形成肉眼可见的所有颜色区别在于颜色排列看首字母即可不同于之前的三色系统采用亮度色度组合形成完整的彩色图像我们仍然要将每一种参量拆解成类似像素块的形式但很多情况下亮度块与色度块并不是的关系数量亮度参量色度参量下图中黑点表示亮度空心圆表示色度专业视频编辑内部的数据存储是这样的紫橙绿屏幕上的第一个彩色像素点摄像机输出代表共用所以屏幕上的第一个彩色像素点最常见网络传输屏幕上的第一个彩色像素点注意的选取是区域并不是和上面的区别在于的排列方式不同数据格式参考排列组合的六种数据格式记忆方式第一列从上至下转换通常情况下和直接的相互转换都是调用接口实现比如的或老等库主要转换标准是和位深的情况下是也叫是也叫没有之分全是转换公式级别可以从位直接计算反过来也可以直接从级别计算注意从转到如果值小于要取如果大于要取帧帧关键帧类似于截图独立解码不需要参考其他画面而生成解码时仅靠自己就重构完整图像作为帧和帧的参考帧其质量直接影响到同组中以后各的质量作为帧组的基础帧第一帧在一组中只有一个帧图像采用帧内编码方式图像是周期性出现在图像序列中的出现频率可由编码器选择所占数据的信息量比较大帧不需要考虑运动矢量帧前向预测帧类似视频依靠上一帧的数据连续解码利用空间和时间上的相关性解码需要参考前面最靠近它的帧帧来解码帧双向预测帧依靠前后帧解码采用双向时间预测大大提高压缩倍数解码顺序先解出帧再解出帧进而解出帧显示顺序先显示帧再显示帧进而显示帧压缩视频压缩编码标准手机拍的视频很可能是编码兼容性最好几乎所有设备平台都支持生态成熟付费压缩效率较低也就是文件体积大且不支持的分辨率蓝光高端电视苹果设备默认拍摄视频用压缩效率比高约相同画质下文件体积小一半支持专利费更高硬件要求高需支持的解码器部分设备不支持的但如果设备不支持硬件解码可能会卡顿免费压缩效率接近较低硬件解码支持较弱依赖计算编码速度慢未来几年的流媒体编码趋势免费压缩效率比更高节省带宽硬件支持尚未普及系系编码速度极慢音频基础声频声音的频率是周期的倒数它表示的是声音在秒钟内的周期数单位是赫兹干赫表示每秒振动次声音按频率可作如下划分次声人耳超声特超声数字音频采样频率概念每秒钟采样的点的个数要从采样中完全恢复原始信号波形采样频率必须至少是信号中最高频率的两倍采样定律假设你有一个音频信号其最高频率为人类听觉范围内的上限根据奈奎斯特采样定律为了准确地捕捉这个信号而不失真则需要至少以的频率对该信号进行采样这样经过数字化处理之后人耳听到的声音质量不会被降低常用的采样频率有无线广播音质数字电视蓝光高清蓝光高清采样量化采样是在离散的时间点上进行的而采样值本身在计算机中也是离散的采样值的精度取决于它用多少位来表示这就是量化例如位量化可以表示个不同值而质量的位量化可以表示个值范围为下图是一个位量化的示意图可以看出位量化只能表示个值量化位数越少波形就越难辨认还原后的声音质量也就越差可能除了一片嗡嗡声之外什么都没有采样精度也叫采样深度指每个样本点的大小常用大小通道数单声道双声道四声道声道比特率每秒传输的数单位间接衡量声音质量的一个标准没有压缩的音频数据的比特率采样频率采样精度通道数码率码率音频文件大小时长码率音质压缩后数据量压缩效率压缩后的音频数据的比特率常见的码率质量一般质量音频质量高质量音频帧类似于视频的帧代表每次编码的采样单元数比如通常是个采样点作为一个编码单元通常是个采样点作为一个编码单元帧长可以指每帧播放持续的时间帧长秒每帧采样点数采样频率比如个采样点每帧则为毫秒秒毫秒也可以指压缩后每帧的数据长度存储交错模式以连续帧的方式存放即首先记录帧的左声道样本和右声道样本再开始帧的记录非交错模式首先记录的是一个周期内所有帧的左声道样本再记录所有右声道样本压缩压缩原理数字音频信号如果不加压缩地直接进行传送将会占用极大的带宽例如一套双声道数字音频若取样频率为每样值按量化则其码率为阿里云服务器带宽大于后每价格是元月数字音频压缩编码采取去除声音信号中冗余信号的方法来实现冗余信号包含人耳听觉范围外的音频信号被掩蔽掉的音频信号当一个强音信号与个弱音信号同时存在时弱音信号被强音信号所掩蔽就可以视为冗余信号而不用传送这也是压缩的核心原理音视频音视频同步概念解码时间戳告诉播放器该在什么时候解码这一帧的数据显示时间戳告诉播放器该在什么时候显示这一帧的数据帧的解码顺序与显示顺序不同需先解码但显示顺序为方式以音频为基准调整视频播放速度适合直播会议以视频为基准调整音频播放速度以外部时钟为基准调整音视频播放速度一般情况下常见视频封装格式压缩音频压缩封装为或是当下最为流行的模式另外是一种音频容器格式同时也是一种音频压缩标准是一种音视频容器格式但不作为某种压缩标准二者具有一定差别',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-08-22 02:00:02',
  postMainColor: '#04760c',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/img/512.png"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">松风狸 | Breezli</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/?id=13242559326&amp;server=netease"><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><i class="anzhiyufont anzhiyu-icon-cube faa-tada" style="font-size: 0.9em;"></i><span> 统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 梦境</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-plant-fill faa-tada" style="font-size: 0.9em;"></i><span> 簪花人间</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/cinema/"><i class="anzhiyufont anzhiyu-icon-book faa-tada" style="font-size: 0.9em;"></i><span> 匣中秋水</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/gallerygroup/"><i class="anzhiyufont anzhiyu-icon-instagram faa-tada" style="font-size: 0.9em;"></i><span> 彩云霁月</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 社交</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友链</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/games/"><i class="anzhiyufont anzhiyu-icon-rocket faa-tada" style="font-size: 0.9em;"></i><span> 游戏</span></a></li></ul></div></div></div><div id="nav-right"><div id="nav-naoDark"><div class="container"><div class="components"><div class="main-button"><div class="moon"></div><div class="moon"></div><div class="moon"></div></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="cloud"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="cloud-light"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="stars"><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div></div></div></div></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">九月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">八月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">17</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">18</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">32</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div><div id="console-naoDark"><div class="container"><div class="components"><div class="main-button"><div class="moon"></div><div class="moon"></div><div class="moon"></div></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="cloud"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="cloud-light"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="stars"><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div></div></div></div></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%B4%A2/" itemprop="url">技术探索</a></span><span class="article-meta tags"></span></div></div><h1 class="post-title" itemprop="name headline">音视频基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-04-02T20:40:45.700Z" title="发表于 2025-04-03 04:40:45">2025-04-03</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-08-21T18:00:02.779Z" title="更新于 2025-08-22 02:00:02">2025-08-22</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="音视频基础"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为成都"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>成都</span></div></div></div><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2025/04/03/%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%B4%A2/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80/"><header><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%B4%A2/" itemprop="url">技术探索</a><h1 id="CrawlerTitle" itemprop="name headline">音视频基础</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Breezli</span><time itemprop="dateCreated datePublished" datetime="2025-04-02T20:40:45.700Z" title="发表于 2025-04-03 04:40:45">2025-04-03</time><time itemprop="dateCreated datePublished" datetime="2025-08-21T18:00:02.779Z" title="更新于 2025-08-22 02:00:02">2025-08-22</time></header><blockquote>
<p>音视频，音频和视频并不是在一起处理的，而是分开处理至最后合成的音视频</p>
</blockquote>
<blockquote>
<p>开源脚本 <a target="_blank" rel="noopener" href="https://github.com/Momo707577045/media-source-extract">media-source-extract</a> 可以无差别提取网页显示的所有media</p>
<p>media下载后为音频视频双文件</p>
<p>配合 <a target="_blank" rel="noopener" href="https://mkvtoolnix.download/downloads.html#windows">mkvtoolnix</a> 混流器可合成为原视频，感兴趣可以尝试一下</p>
</blockquote>
<h3 id="录制原理"><a href="#录制原理" class="headerlink" title="录制原理"></a>录制原理</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=ZjQ3NDU2ODAyNDljNmMwOWZlOGI0NTM5NWExZDY1Y2FfN1JibXYwaTByQmxjdTVmeDdHajJVOVVYRXhLMGRMcWZfVG9rZW46UDhDMWJ0VUNWb1ZTVDB4WkpJWmNHMEpDbjVyXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h3 id="播放原理"><a href="#播放原理" class="headerlink" title="播放原理"></a>播放原理</h3><blockquote>
<p><strong>解封装</strong>(分离音视频) → <strong>解码</strong>(H.264&#x2F;AAC → RGB&#x2F;PCM) → <strong>同步</strong>(DTS&#x2F;PTS 控制播放顺序) → <strong>渲染</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=YmY3ZTM1ZTAwY2VhNjBhMmM2NTg3YWIyMzQ0ZTkwYTJfbmtiYkY2NUg0Wk5JRDZ4ajFNZmEzSXNVN1ZMek1VTmdfVG9rZW46T3M2SWI5TlJFb200eFR4UGF6VGNxVFlrbnlmXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h3 id="位深（单位-bit）"><a href="#位深（单位-bit）" class="headerlink" title="位深（单位 | bit）"></a>位深（单位 | bit）</h3><blockquote>
<p>举个例子：</p>
<p>CSS的颜色通常基于每通道8bit的RGBA模型 👉 rgba(255,255,255,0.5)，整体颜色深度为32位</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=YzRiZDA3ZWQ0NWI0MmVmZDFhZTE5MmM1OTgyZTI1YjRfTkpycDl0UllDbFFmMDJKUzlIQXhzaGJrUEIwSXZvNzVfVG9rZW46UjB3RmJEdFE5bzZZOUN4ekRuNWM3aDNVbkpnXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h3 id="帧率（单位-fps）"><a href="#帧率（单位-fps）" class="headerlink" title="帧率（单位 | fps）"></a>帧率（单位 | fps）</h3><p>帧率即 FPS <strong>每秒有多少帧画面</strong></p>
<ul>
<li><strong>帧率↑ 流畅↑ 性能需求↑</strong></li>
</ul>
<p>人眼对图像的暂留时间为 1&#x2F;24 秒，因此 24fps 被认为是连续的</p>
<blockquote>
<p>电影帧率一般是 24fps</p>
<p>电视剧一般是 25fps</p>
<p>监控行业常用 25fps</p>
<p>音视频通话常用 15fps</p>
</blockquote>
<h3 id="码率（单位-Mbps）"><a href="#码率（单位-Mbps）" class="headerlink" title="码率（单位 | Mbps）"></a>码率（单位 | Mbps）</h3><p>视频文件在 <strong>单位时间内使用的数据流量</strong> 。比如1Mbps。</p>
<p>码率 &#x3D; 分辨率 × 帧率 × 比特深度 × 压缩率</p>
<ul>
<li><strong>码率↑ 分辨率↑ 清晰↑</strong> （大多数情况）</li>
</ul>
<blockquote>
<p>但模糊的视频文件大小(码率)也可以很大，分辨率小的视频文件可能也比分辨率大的视频文件清晰。</p>
</blockquote>
<p>对于同一个原始图像源的时候，同样的编码算法，则码率越高，图像的失真就会越小，视频画面就会越清晰</p>
<ul>
<li>高分辨率低码率：画质模糊（如 4K 5Mbps）。</li>
<li>低分辨率高码率：画质锐利但文件大（如 720p 20Mbps）。</li>
</ul>
<h2 id="视频基础"><a href="#视频基础" class="headerlink" title="视频基础"></a>视频基础</h2><h3 id="颜色渲染"><a href="#颜色渲染" class="headerlink" title="颜色渲染"></a>颜色渲染</h3><h4 id="RGB-BGR"><a href="#RGB-BGR" class="headerlink" title="RGB &amp; BGR"></a>RGB &amp; BGR</h4><blockquote>
<p>该颜色编码的原理是控制 <strong>三色的明暗</strong> 来 <strong>组合形成</strong> 肉眼可见的所有颜色</p>
<p>RGB &#x2F; BGR 区别在于颜色排列，看首字母即可（Red | Green | Blue）</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=MzNjYzEwZTBkYjAxNWE3NTlkYmUxNzcyMjAwNjg3MDdfV0FLcnNvNzB3RXVTVjJNQ1ByVFRmQnVEQXhSVDNFSTBfVG9rZW46WEdmWmJSZkhWb0NIMDh4czRYWmN1WXlRbndjXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h4 id="YUV"><a href="#YUV" class="headerlink" title="YUV"></a>YUV</h4><blockquote>
<p>不同于之前的三色系统，YUV采用 <strong>亮度</strong>(Y)<strong>+色度</strong>(UV) 组合形成完整的彩色图像</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=NmU2OTRhODQ2MGMxNTdiYjI0MGQwNWJlZDNlOTcxZWRfcXg2TTJQbHZuV1JOV2VOWEFldDFOQTRFZ1BFaFd6T2dfVG9rZW46R21oQ2JhQ1M5b2I2clB4OVhZcWNlTFlQbjdkXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<blockquote>
<p>我们仍然要将每一种参量（Y &#x2F; UV）拆解成类似像素块的形式</p>
<p>但很多情况下，亮度块(Y) 与 色度块(UV) 并不是 1:1 的关系</p>
<p>数量：亮度参量(Y) ≥ 色度参量(UV)</p>
<p>&gt; ps：下图中  黑点表示亮度(Y)  空心圆表示色度(UV)</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=NWU3OWNhYWI2YWM2YWY5OWE2ZmFhNDM4MGMyOWViYzlfTDE1bFBRVkV2Y2drM21hOG5DNkluek1YREV5NU51a09fVG9rZW46RkNET2J5ZXNtb3hTSzh4TXh5dGNtZm4zblpnXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h5 id="444（专业视频编辑）"><a href="#444（专业视频编辑）" class="headerlink" title="444（专业视频编辑）"></a>444（专业视频编辑）</h5><blockquote>
<p>内部的数据存储是这样的，Y(紫) U(橙) V(绿)</p>
<p><strong>Y0</strong> + <strong>U0</strong> + <strong>V0</strong> &#x3D; <strong>屏幕上的第一个彩色像素点</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=OGRkYmUyOTE5ZmMyMjM4MzI0MTA0NDQ2OTZlNzA3MmNfVEZmVjdETVdEZFBOYzh5ODlNWlRqT21waXh6M1dCamJfVG9rZW46SXk4N2JEeUFkb3pLNEJ4dUFBYWNKUTEwbm9mXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h5 id="422（摄像机输出）"><a href="#422（摄像机输出）" class="headerlink" title="422（摄像机输出）"></a>422（摄像机输出）</h5><blockquote>
<p>4：2：2 代表 2×Y 共用 1×U 1×V</p>
<p>所以 <strong>Y0</strong> + <strong>Y4</strong> + <strong>U0</strong> + <strong>V0</strong> &#x3D; <strong>屏幕上的第一个彩色像素点</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=MDljYWMyZDkyODM1N2YxMDJmNWY2Y2Y1ZDBmY2I2MWFfcWFseXdOMEtNZUZBVmhNbGpSMEFTR2NsV0VTdVI0VFFfVG9rZW46UTMyM2JsRzBYb09WTVd4NXEwMGNyNm9vbkJiXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h5 id="420（最常见-网络传输）"><a href="#420（最常见-网络传输）" class="headerlink" title="420（最常见 | 网络传输）"></a>420（最常见 | 网络传输）</h5><blockquote>
<p><strong>Y0</strong> + <strong>Y1</strong> + <strong>Y4</strong> + <strong>Y5</strong> + <strong>U0</strong> + <strong>V0</strong> &#x3D; <strong>屏幕上的第一个彩色像素点</strong></p>
<p>注意 <strong>Y</strong> 的选取是 <strong>2x2</strong> 区域，并不是 1x4 | 4x1</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=YTFmMTQxODQ1MzNhOTAyN2ViOWVlNzcyMDA5N2VjNjRfVDFTYzVNZVVCVDExRVNUNFRQUXRBTWxvV0tUMWRoaDBfVG9rZW46VWJZQmJiempsb21pb1Z4TUJ1YWN5dGwzbnViXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h6 id="420-NV12"><a href="#420-NV12" class="headerlink" title="420 NV12"></a>420 NV12</h6><blockquote>
<p>和上面的区别在于 UV 的排列方式不同</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=OWVmMDdkMWY4MDIyZDJhZjliY2Q5NDI3YjM1ODk1MWJfQ202S3plS01YR203bnlzOWV3NDZYb05QeExrSktJaUJfVG9rZW46QTBVSmJ3Vk9JbzRQMm54SmtNbWNjd0labk5oXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h6 id="420-数据格式参考"><a href="#420-数据格式参考" class="headerlink" title="420 数据格式参考"></a>420 数据格式参考</h6><blockquote>
<p>排列组合的六种数据格式</p>
<ul>
<li>记忆方式：第一列从上至下<ul>
<li>YUV：<em><strong>I</strong></em>420</li>
<li><em><strong>YV</strong></em>U：<em><strong>YV</strong></em>12</li>
<li>Y<em><strong>UU</strong></em>：NV<em><strong>12</strong></em></li>
<li>Y<em><strong>VV</strong></em>：NV<em><strong>21</strong></em></li>
</ul>
</li>
</ul>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=MjRlNTljNmMzMjg0YzI0OGQ4Mjg2ZmM4M2M4ZGZmNjBfQnhTYXFSTDJrdXZjTHNhMUdSRDNVdEZ1dHpGdHlleVJfVG9rZW46RVNna2JOOEQxb2g0TFR4ZUhIa2NJaVFVbjFlXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h4 id="RGB-YUV-转换"><a href="#RGB-YUV-转换" class="headerlink" title="RGB &#x2F; YUV 转换"></a>RGB &#x2F; YUV 转换</h4><blockquote>
<p>通常情况下RGB和YUV直接的相互转换都是调用接口实现，比如 Ffmpeg 的 swscale 或老 libyuv 等库</p>
</blockquote>
<p>主要转换标准是 <strong>BT601</strong> 和 <strong>BT709</strong></p>
<ul>
<li>8bit位深的情况下<ul>
<li>TV range是 16-235(Y)、16-240(U&#x2F;V)，也叫Limited Range</li>
<li>PC range是 0-255(Y)、0-255(U&#x2F;V)，也叫Full Range</li>
<li>RGB没有range之分，全是0-255</li>
</ul>
</li>
</ul>
<p>BT601 TV Range转换公式</p>
<ul>
<li>YUV(256 级别)可以从8位 RGB 直接计算:<ul>
<li>Y &#x3D; 0.299<em>R + 0.587</em>G + 0.114*B:</li>
<li>U &#x3D; -0.169<em>R - 0.331</em>G + 0.5*B;</li>
<li>V &#x3D; 0.5<em>R - 0.419</em>G - 0.081*B;</li>
</ul>
</li>
<li>反过来，RGB 也可以直接从YUV(256级别)计算<ul>
<li>R&#x3D;Y+ 1.402(Y-128)</li>
<li>G&#x3D;Y-0.34414(U-128)-0.71414(U-128)</li>
<li>B&#x3D;Y+ 1.772(V-128)</li>
</ul>
</li>
</ul>
<blockquote>
<p>⚠ 注意：从YUV 转到 RGB 如果值小于0要取0，如果大于255要取255</p>
</blockquote>
<h3 id="帧"><a href="#帧" class="headerlink" title="帧"></a>帧</h3><h4 id="I帧-关键帧-Intra-coded-frame"><a href="#I帧-关键帧-Intra-coded-frame" class="headerlink" title="I帧 | 关键帧 (Intra coded frame)"></a>I帧 | 关键帧 (Intra coded frame)</h4><blockquote>
<p>类似于截图，<strong>独立解码</strong></p>
</blockquote>
<ul>
<li><strong>不需要参考其他画面</strong> 而生成，解码时仅靠自己就重构完整图像</li>
<li>作为P帧和B帧的参考帧(其质量直接影响到同组中以后各的质量)</li>
<li>作为帧组GOP的基础帧(第一帧)，在一组中只有一个I帧;</li>
<li>图像采用 <strong>帧内编码</strong> 方式</li>
<li>图像是 <strong>周期性出现</strong> 在图像序列中的，出现频率可由编码器选择</li>
<li>所占数据的信息量比较大</li>
<li>I帧不需要考虑运动矢量</li>
</ul>
<h4 id="P帧-前向预测帧-Predicted-frame"><a href="#P帧-前向预测帧-Predicted-frame" class="headerlink" title="P帧 | 前向预测帧 (Predicted frame)"></a>P帧 | 前向预测帧 (Predicted frame)</h4><blockquote>
<p>类似视频，<strong>依靠上一帧的数据，连续解码</strong></p>
</blockquote>
<ul>
<li>利用空间和时间上的相关性解码</li>
<li>需要参考前面最靠近它的 I帧 || P帧 来解码</li>
</ul>
<h4 id="B帧-双向预测帧-Bi-directional-predicted-frame"><a href="#B帧-双向预测帧-Bi-directional-predicted-frame" class="headerlink" title="B帧 | 双向预测帧 (Bi-directional predicted frame)"></a>B帧 | 双向预测帧 (Bi-directional predicted frame)</h4><blockquote>
<p><strong>依靠前后帧解码</strong></p>
</blockquote>
<ul>
<li>采用双向时间预测，大大提高压缩倍数</li>
</ul>
<h4 id="解码顺序（IPB）"><a href="#解码顺序（IPB）" class="headerlink" title="解码顺序（IPB）"></a>解码顺序（IPB）</h4><p><strong>先解出I帧，再解出P帧，进而解出B帧</strong></p>
<h4 id="显示顺序（IBP）"><a href="#显示顺序（IBP）" class="headerlink" title="显示顺序（IBP）"></a>显示顺序（IBP）</h4><p><strong>先显示I帧，再显示B帧，进而显示P帧</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=MWVhNmY3MzRiMzlhNTQxYjNjZTgwZmM1OWY0OTkyNThfYmE2bXpydUpldTdpM082UnB6MlVhNGhJUEU0SHFOZlhfVG9rZW46WU1TNWJEY2NPbzh2eEt4SHBBVWNPTnRIbkpmXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h4 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h4><h5 id="视频压缩编码标准"><a href="#视频压缩编码标准" class="headerlink" title="视频压缩编码标准"></a>视频压缩编码标准</h5><h6 id="H-264（AVC）"><a href="#H-264（AVC）" class="headerlink" title="H.264（AVC）"></a>H.264（AVC）</h6><blockquote>
<p>手机拍的1080p视频很可能是H.264编码</p>
</blockquote>
<ul>
<li><strong>兼容性最好</strong>（几乎所有设备&#x2F;平台都支持），生态成熟</li>
<li>付费，压缩效率较低，也就是文件体积大，且不支持≥4K的分辨率</li>
</ul>
<h6 id="H-265（HEVC）"><a href="#H-265（HEVC）" class="headerlink" title="H.265（HEVC）"></a>H.265（HEVC）</h6><blockquote>
<p>4K蓝光、高端电视、苹果设备（iPhone默认拍摄4K视频用HEVC）</p>
</blockquote>
<ul>
<li><strong>压缩效率</strong>比H.264<strong>高</strong>约50%（相同画质下文件体积小一半），支持4K&#x2F;8K</li>
<li>专利费更高，硬件要求高（需支持HEVC的解码器），部分设备不支持</li>
</ul>
<h6 id="VP9"><a href="#VP9" class="headerlink" title="VP9"></a>VP9</h6><blockquote>
<p>YouTube的4K，但如果设备不支持硬件解码VP9，可能会卡顿</p>
</blockquote>
<ul>
<li><strong>免费</strong>，压缩效率接近H.265，较低</li>
<li>硬件解码支持较弱，依赖CPU计算，编码速度慢</li>
</ul>
<h6 id="AV1"><a href="#AV1" class="headerlink" title="AV1"></a>AV1</h6><blockquote>
<p>未来几年的流媒体编码趋势</p>
</blockquote>
<ul>
<li><strong>免费</strong>，<strong>压缩效率</strong>比H.265&#x2F;VP9<strong>更高</strong>（节省30%带宽）</li>
<li>硬件支持尚未普及（NVIDIA RTX 40系、AMD RX 7000系），编码速度极慢</li>
</ul>
<h2 id="音频基础"><a href="#音频基础" class="headerlink" title="音频基础"></a>音频基础</h2><h3 id="声频"><a href="#声频" class="headerlink" title="声频"></a>声频</h3><blockquote>
<p>声音的频率是周期的倒数，它表示的是声音在1秒钟内的周期数，单位是赫兹(Hz)、干赫(kHz)</p>
<p>1000Hz，表示每秒振动1000次</p>
</blockquote>
<p>声音按频率可作如下划分:</p>
<table>
<thead>
<tr>
<th>次声</th>
<th>0~20Hz</th>
</tr>
</thead>
<tbody><tr>
<td>人耳</td>
<td>20Hz~20KHz</td>
</tr>
<tr>
<td>超声</td>
<td>20KHz~1GHz</td>
</tr>
<tr>
<td>特超声</td>
<td>1GHz~10THZ</td>
</tr>
</tbody></table>
<h3 id="数字音频"><a href="#数字音频" class="headerlink" title="数字音频"></a>数字音频</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=ZmI4MmIwMGY0Y2I2OTU3MmRjMjE3ZjcxNGQxMjM3ODdfNkxHeU5SNnRERHpMOG15YjNvOFpmSDF6OHRLNmZJTTBfVG9rZW46VVljOWI1aTlsb0lGT2h4d2N5RGN3TzNBbjhjXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h4 id="采样频率"><a href="#采样频率" class="headerlink" title="采样频率"></a>采样频率</h4><blockquote>
<p>概念：<strong>每秒钟采样的点的个数</strong></p>
</blockquote>
<p>要从采样中完全恢复原始信号波形采样频率必须至少是信号中最高频率的两倍（Nyguist采样定律）</p>
<blockquote>
<p>假设你有一个音频信号，其最高频率为20kHz（人类听觉范围内的上限）</p>
<p>根据奈奎斯特采样定律，为了准确地捕捉这个信号而不失真，则需要至少以40kHz的频率对该信号进行采样</p>
<p>这样经过数字化处理之后，人耳听到的声音质量不会被降低</p>
</blockquote>
<p>常用的采样频率有</p>
<table>
<thead>
<tr>
<th>22000(22kHz)</th>
<th>无线广播</th>
</tr>
</thead>
<tbody><tr>
<td>44100(44.1kHz)</td>
<td>CD音质</td>
</tr>
<tr>
<td>48000(48kHz)</td>
<td>数字电视，DVD</td>
</tr>
<tr>
<td>96000(96kHz)</td>
<td>蓝光，高清DVD</td>
</tr>
<tr>
<td>192000(192kHz)</td>
<td>蓝光，高清DVD</td>
</tr>
</tbody></table>
<h4 id="采样量化"><a href="#采样量化" class="headerlink" title="采样量化"></a>采样量化</h4><p>采样是在离散的时间点上进行的，而采样值本身在计算机中也是离散的</p>
<p><strong>采样值的精度取决于它用多少位来表示</strong>，这就是量化</p>
<p>例如8位量化可以表示256个不同值，而CD质量的16位量化可以表示65536个值，范围为 [-32768，32767]</p>
<p>下图是一个3位量化的示意图</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=NTg0OTI5YWEzOGE2MzE1YmUyMzg3ZmNmNmY2Y2MwMzdfQ3ozQVNXM0c1QlJZeDV3S1ZaV1ZDTDl0eVl4OVF3S2JfVG9rZW46UUhjVmJodGNSb2l2aEN4a1JVcmNpbHNybk9jXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<p>可以看出3位量化只能表示8个值:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0.75`，`0.5`，`0.25`，`0`，`-0.25`，`-0.5`，`-0.75`，`-1</span><br></pre></td></tr></table></figure>

<p>量化位数越少，波形就越难辨认，还原后的声音质量也就越差(可能除了一片嗡嗡声之外什么都没有)</p>
<h4 id="采样精度"><a href="#采样精度" class="headerlink" title="采样精度"></a>采样精度</h4><p>也叫<strong>采样深度</strong>：指每个 ‘样本点’ 的大小</p>
<ul>
<li>常用大小：8bit，16bit，24bit</li>
<li>通道数：单声道，双声道，四声道，5.1声道</li>
<li>比特率：每秒传输的bit数，单位 bps (Bit PerSecond) 间接衡量声音质量的一个标准<ul>
<li>没有压缩的音频数据的比特率 &#x3D; 采样频率 × 采样精度 × 通道数</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=NGQ2MDI2ZDU0Zjg2NjM5OGRlM2ZmMmQxOTQxZWY3MzRfWXRIY3ljZDkwSmpucU9Zb3B4V08xb0FocEMxdXBoakxfVG9rZW46RmkzNGJKcjQ5b1pqdzJ4Q0h6N2NQYWhPblhnXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h3 id="码率"><a href="#码率" class="headerlink" title="码率"></a>码率</h3><p>码率 &#x3D; 音频文件大小 &#x2F; 时长</p>
<p>码率↑ 音质↑ 压缩后数据量↑ 压缩效率↓</p>
<p>压缩后的音频数据的比特率常见的码率</p>
<table>
<thead>
<tr>
<th>96kbps</th>
<th>FM质量</th>
</tr>
</thead>
<tbody><tr>
<td>128-160kbps</td>
<td>一般质量音频</td>
</tr>
<tr>
<td>192kbps</td>
<td>CD质量</td>
</tr>
<tr>
<td>256-320Kbps</td>
<td>高质量音频</td>
</tr>
</tbody></table>
<h3 id="帧-1"><a href="#帧-1" class="headerlink" title="帧"></a>帧</h3><blockquote>
<p>类似于视频的帧，代表每次编码的采样单元数</p>
<p>比如MP3通常是1152个采样点作为一个编码单元，AAC通常是1024个采样点作为一个编码单元。</p>
</blockquote>
<h4 id="帧长"><a href="#帧长" class="headerlink" title="帧长"></a>帧长</h4><ul>
<li>可以指<strong>每帧播放持续的时间</strong><ul>
<li>帧长(秒) &#x3D; 每帧采样点数 &#x2F; 采样频率(HZ)</li>
<li><blockquote>
<ul>
<li>比如：MP3 48k，1152个采样点，每帧则为 24毫秒（1152&#x2F;48000&#x3D;0.024秒&#x3D;24毫秒）</li>
</ul>
</blockquote>
</li>
</ul>
</li>
<li>也可以指<strong>压缩后每帧的数据长度</strong></li>
</ul>
<h4 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h4><h5 id="交错模式"><a href="#交错模式" class="headerlink" title="交错模式"></a>交错模式</h5><p>以连续帧的方式存放，即首先记录帧1的左声道样本和右声道样本，再开始帧2的记录</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=ODJiNmQ0ZDA5MjUxMmQxNjRmM2MwNTI1OWJmMDFkN2RfeG5lNjN5Qzg5RkFiWklqNE9ubmMzUnFyYm9aWHVZYkZfVG9rZW46V2FwbWJiS0t2bzBkaEl4VXZNV2NzMXFxbkZoXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h5 id="非交错模式"><a href="#非交错模式" class="headerlink" title="非交错模式"></a>非交错模式</h5><p>首先记录的是一个周期内所有帧的左声道样本，再记录所有右声道样本</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://ki5e9njf7h.feishu.cn/space/api/box/stream/download/asynccode/?code=ODg5YWU4MmQ1MWU1ZjBkNjI2ZmRiNTExMzU3N2Q5YmNfUmNUb3Z6aWI3a3FXWWRyaDRJU1QxTVYyb25zYTFXVDdfVG9rZW46QXFkeWIySnpqb1hBbGd4T0dVSWNDVEVHbkZnXzE3NTU3OTkxNzA6MTc1NTgwMjc3MF9WNA" alt="img"></p>
<h4 id="压缩-1"><a href="#压缩-1" class="headerlink" title="压缩"></a>压缩</h4><h5 id="压缩原理"><a href="#压缩原理" class="headerlink" title="压缩原理"></a>压缩原理</h5><p>数字音频信号如果不加压缩地直接进行传送，将会占用极大的带宽</p>
<blockquote>
<p>例如，一套双声道数字音频若取样频率为44.1KHz，每样值按16bit量化</p>
<p>则其码率为：2·44.1kHz*·*16bit&#x3D;1.411Mbit&#x2F;s</p>
<p>- 阿里云服务器带宽大于5M后，每M价格是100元&#x2F;月) -</p>
</blockquote>
<p>数字音频压缩编码采取<strong>去除</strong>声音信号中<strong>冗余信号</strong>的方法来实现</p>
<blockquote>
<p>冗余信号：包含人耳听觉范围外的音频信号、被掩蔽掉的音频信号、当一个强音信号与个弱音信号同时存在时，弱音信号被强音信号所掩蔽就可以视为冗余信号而不用传送（这也是 MP3&#x2F;<strong>AAC</strong> 压缩的核心原理）</p>
</blockquote>
<h2 id="音视频"><a href="#音视频" class="headerlink" title="音视频"></a>音视频</h2><h3 id="音视频同步"><a href="#音视频同步" class="headerlink" title="音视频同步"></a>音视频同步</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><p><strong>DTS</strong> (Decoding Time Stamp)</p>
<ul>
<li>解码时间戳，告诉播放器该在什么时候<strong>解码</strong>这一帧的数据</li>
</ul>
<p><strong>PTS</strong> (Presentation Time Stamp)</p>
<ul>
<li>显示时间戳，告诉播放器该在什么时候<strong>显示</strong>这一帧的数据</li>
</ul>
<blockquote>
<p>B 帧的解码顺序与显示顺序不同（需先解码 I&#x2F;P&#x2F;B，但显示顺序为 I&#x2F;B&#x2F;P）</p>
</blockquote>
<h4 id="方式"><a href="#方式" class="headerlink" title="方式"></a>方式</h4><p>Audio Master：以音频为基准调整视频播放速度（适合直播&#x2F;会议）</p>
<p>Video Master：以视频为基准调整音频播放速度</p>
<p>External Clock Master：以外部时钟为基准调整音视频播放速度</p>
<blockquote>
<p>一般情况下 Audio Master &gt; External Clock Master &gt; Video Master</p>
</blockquote>
<h3 id="常见视频封装格式"><a href="#常见视频封装格式" class="headerlink" title="常见视频封装格式"></a>常见视频封装格式</h3><p>AVI、<strong>MKV</strong>、MPE、MPG、MPEG、<strong>MP4</strong>、<em>WMV</em>、MOV、3GP、M2V、M1V、M4V、OGM、RM、RMS、RMM、<em>RMVB</em>、IFO、SWF、<strong>FLV</strong>、<em>F4V</em>、ASF、PMF、XMB、DIVX、PART、DAT、VOB、M2TS、<em>TS</em>、PS</p>
<blockquote>
<p><strong>H264</strong>(压缩) <strong>+ AAC</strong>(音频压缩) 封装为 <strong>FLV</strong> 或 <strong>MP4</strong> 是当下最为流行的模式</p>
</blockquote>
<blockquote>
<p>另外</p>
<p><strong>MP3</strong> 是一种<strong>音频容器格式</strong>，同时也是一种<strong>音频压缩标准</strong></p>
<p><strong>MP4</strong> 是一种<strong>音视频容器格式</strong>，但不作为某种压缩标准</p>
<p>二者具有一定差别</p>
</blockquote>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="/img/512.png" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="/img/512.png" title="头像" alt="头像"></a><div class="post-copyright__author_name">Breezli</div><div class="post-copyright__author_desc">“松间听风，忽见灵狸”</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2025/04/03/%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%B4%A2/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2025/04/03/%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%B4%A2/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80/')">音视频基础</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2025/04/03/%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%B4%A2/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=undefined&amp;url=http://example.com/2025/04/03/%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%B4%A2/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80/&amp;pic=undefined" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">松风狸 | Breezli</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"></div></div></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2025/08/22/68a756bf71c99.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/04/03/%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%B4%A2/FFmpeg%E5%AE%9E%E6%88%98/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/08/22/68a756bf494d5.jpg" onerror="onerror=null;src='https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">FFmpeg实战</div></div></a></div><div class="next-post pull-right"><a href="/2025/04/03/JS/GO_VO_AO/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/03/05/67c7e99e3513a.png" onerror="onerror=null;src='https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">GO?VO?AO?</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="/img/512.png" onerror="this.onerror=null;this.src='https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://emotion.acs.pw/emotion/QQ/129.gif" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">错位的人格，错位的才情；</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">错位的时代，错位的人生。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">在错误的路口抢夺正确的结果，</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">用虚假的手段寻回真实的自己。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">在诗意，自由的“美丽新世界”。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Breezli</h1><div class="author-info__desc">“松间听风，忽见灵狸”</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/Breezli" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/3546391152429457" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2025/08/09/68973be4ebc88.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2025/08/09/68973be4eca94.png) center center / 100% no-repeat"></div></div></div></div><div class="card-widget card-countdown"><div class="item-headline"><i></i><span></span></div><div class="item-content"><div class="cd-count-left">
  <span class="cd-text">距离</span>
  <span class="cd-name" id="eventName"></span>
  <span class="cd-time" id="daysUntil"></span>
  <span class="cd-date" id="eventDate"></span>
</div>
<div id="countRight" class="cd-count-right"></div>
</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%95%E5%88%B6%E5%8E%9F%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text">录制原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%92%AD%E6%94%BE%E5%8E%9F%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">播放原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E6%B7%B1%EF%BC%88%E5%8D%95%E4%BD%8D-bit%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">位深（单位 | bit）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A7%E7%8E%87%EF%BC%88%E5%8D%95%E4%BD%8D-fps%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">帧率（单位 | fps）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%81%E7%8E%87%EF%BC%88%E5%8D%95%E4%BD%8D-Mbps%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">码率（单位 | Mbps）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80"><span class="toc-number"></span> <span class="toc-text">视频基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%9C%E8%89%B2%E6%B8%B2%E6%9F%93"><span class="toc-number">1.</span> <span class="toc-text">颜色渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#RGB-BGR"><span class="toc-number">1.1.</span> <span class="toc-text">RGB &amp; BGR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#YUV"><span class="toc-number">1.2.</span> <span class="toc-text">YUV</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#444%EF%BC%88%E4%B8%93%E4%B8%9A%E8%A7%86%E9%A2%91%E7%BC%96%E8%BE%91%EF%BC%89"><span class="toc-number">1.2.1.</span> <span class="toc-text">444（专业视频编辑）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#422%EF%BC%88%E6%91%84%E5%83%8F%E6%9C%BA%E8%BE%93%E5%87%BA%EF%BC%89"><span class="toc-number">1.2.2.</span> <span class="toc-text">422（摄像机输出）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#420%EF%BC%88%E6%9C%80%E5%B8%B8%E8%A7%81-%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%EF%BC%89"><span class="toc-number">1.2.3.</span> <span class="toc-text">420（最常见 | 网络传输）</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#420-NV12"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">420 NV12</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#420-%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F%E5%8F%82%E8%80%83"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">420 数据格式参考</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RGB-YUV-%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.3.</span> <span class="toc-text">RGB &#x2F; YUV 转换</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A7"><span class="toc-number">2.</span> <span class="toc-text">帧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#I%E5%B8%A7-%E5%85%B3%E9%94%AE%E5%B8%A7-Intra-coded-frame"><span class="toc-number">2.1.</span> <span class="toc-text">I帧 | 关键帧 (Intra coded frame)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#P%E5%B8%A7-%E5%89%8D%E5%90%91%E9%A2%84%E6%B5%8B%E5%B8%A7-Predicted-frame"><span class="toc-number">2.2.</span> <span class="toc-text">P帧 | 前向预测帧 (Predicted frame)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#B%E5%B8%A7-%E5%8F%8C%E5%90%91%E9%A2%84%E6%B5%8B%E5%B8%A7-Bi-directional-predicted-frame"><span class="toc-number">2.3.</span> <span class="toc-text">B帧 | 双向预测帧 (Bi-directional predicted frame)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E7%A0%81%E9%A1%BA%E5%BA%8F%EF%BC%88IPB%EF%BC%89"><span class="toc-number">2.4.</span> <span class="toc-text">解码顺序（IPB）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E9%A1%BA%E5%BA%8F%EF%BC%88IBP%EF%BC%89"><span class="toc-number">2.5.</span> <span class="toc-text">显示顺序（IBP）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9"><span class="toc-number">2.6.</span> <span class="toc-text">压缩</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%86%E9%A2%91%E5%8E%8B%E7%BC%A9%E7%BC%96%E7%A0%81%E6%A0%87%E5%87%86"><span class="toc-number">2.6.1.</span> <span class="toc-text">视频压缩编码标准</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#H-264%EF%BC%88AVC%EF%BC%89"><span class="toc-number">2.6.1.1.</span> <span class="toc-text">H.264（AVC）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#H-265%EF%BC%88HEVC%EF%BC%89"><span class="toc-number">2.6.1.2.</span> <span class="toc-text">H.265（HEVC）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#VP9"><span class="toc-number">2.6.1.3.</span> <span class="toc-text">VP9</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#AV1"><span class="toc-number">2.6.1.4.</span> <span class="toc-text">AV1</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91%E5%9F%BA%E7%A1%80"><span class="toc-number"></span> <span class="toc-text">音频基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E9%A2%91"><span class="toc-number">1.</span> <span class="toc-text">声频</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E9%9F%B3%E9%A2%91"><span class="toc-number">2.</span> <span class="toc-text">数字音频</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%87%E6%A0%B7%E9%A2%91%E7%8E%87"><span class="toc-number">2.1.</span> <span class="toc-text">采样频率</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%87%E6%A0%B7%E9%87%8F%E5%8C%96"><span class="toc-number">2.2.</span> <span class="toc-text">采样量化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%87%E6%A0%B7%E7%B2%BE%E5%BA%A6"><span class="toc-number">2.3.</span> <span class="toc-text">采样精度</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%81%E7%8E%87"><span class="toc-number">3.</span> <span class="toc-text">码率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A7-1"><span class="toc-number">4.</span> <span class="toc-text">帧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A7%E9%95%BF"><span class="toc-number">4.1.</span> <span class="toc-text">帧长</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E5%82%A8"><span class="toc-number">4.2.</span> <span class="toc-text">存储</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%A4%E9%94%99%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.2.1.</span> <span class="toc-text">交错模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%9E%E4%BA%A4%E9%94%99%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.2.2.</span> <span class="toc-text">非交错模式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9-1"><span class="toc-number">4.3.</span> <span class="toc-text">压缩</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E5%8E%9F%E7%90%86"><span class="toc-number">4.3.1.</span> <span class="toc-text">压缩原理</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E8%A7%86%E9%A2%91"><span class="toc-number"></span> <span class="toc-text">音视频</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9F%B3%E8%A7%86%E9%A2%91%E5%90%8C%E6%AD%A5"><span class="toc-number">1.</span> <span class="toc-text">音视频同步</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.</span> <span class="toc-text">方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E8%A7%86%E9%A2%91%E5%B0%81%E8%A3%85%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">常见视频封装格式</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/09/07/%E5%B7%A5%E5%85%B7/Vite%E6%9E%84%E5%BB%BA%E7%9A%84%E8%83%8C%E5%90%8E/" title="pnpm dev 的背后（vite构建）"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/08/22/68a756bf71c99.png" onerror="this.onerror=null;this.src='https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif'" alt="pnpm dev 的背后（vite构建）"/></a><div class="content"><a class="title" href="/2025/09/07/%E5%B7%A5%E5%85%B7/Vite%E6%9E%84%E5%BB%BA%E7%9A%84%E8%83%8C%E5%90%8E/" title="pnpm dev 的背后（vite构建）">pnpm dev 的背后（vite构建）</a><time datetime="2025-09-07T04:33:46.894Z" title="发表于 2025-09-07 12:33:46">2025-09-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/07/%E5%B7%A5%E5%85%B7/Vercel%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1/" title="Vercel 部署服务"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/08/22/68a756bf4717d.png" onerror="this.onerror=null;this.src='https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif'" alt="Vercel 部署服务"/></a><div class="content"><a class="title" href="/2025/09/07/%E5%B7%A5%E5%85%B7/Vercel%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1/" title="Vercel 部署服务">Vercel 部署服务</a><time datetime="2025-09-07T04:24:01.005Z" title="发表于 2025-09-07 12:24:01">2025-09-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/22/%E5%A4%A7%E5%89%8D%E7%AB%AF/%E9%A1%B9%E7%9B%AE%E6%9E%B6%E6%9E%84%E6%96%B9%E6%A1%88/" title="项目架构方案"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/08/22/68a756bf4717d.png" onerror="this.onerror=null;this.src='https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif'" alt="项目架构方案"/></a><div class="content"><a class="title" href="/2025/08/22/%E5%A4%A7%E5%89%8D%E7%AB%AF/%E9%A1%B9%E7%9B%AE%E6%9E%B6%E6%9E%84%E6%96%B9%E6%A1%88/" title="项目架构方案">项目架构方案</a><time datetime="2025-08-21T17:57:35.782Z" title="发表于 2025-08-22 01:57:35">2025-08-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/22/%E5%A4%A7%E5%89%8D%E7%AB%AF/%E5%9C%A8%E5%89%8D%E7%AB%AF%E4%BB%80%E4%B9%88%E6%98%AF%E6%B5%8B%E8%AF%95/" title="在前端，什么是测试"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/08/22/68a75aed252e5.png" onerror="this.onerror=null;this.src='https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif'" alt="在前端，什么是测试"/></a><div class="content"><a class="title" href="/2025/08/22/%E5%A4%A7%E5%89%8D%E7%AB%AF/%E5%9C%A8%E5%89%8D%E7%AB%AF%E4%BB%80%E4%B9%88%E6%98%AF%E6%B5%8B%E8%AF%95/" title="在前端，什么是测试">在前端，什么是测试</a><time datetime="2025-08-21T17:55:33.751Z" title="发表于 2025-08-22 01:55:33">2025-08-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/22/%E5%B7%A5%E5%85%B7/Vitest%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B5/" title="Vitest 测试实践"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://bu.dusays.com/2025/08/22/68a75aed252e5.png" onerror="this.onerror=null;this.src='https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif'" alt="Vitest 测试实践"/></a><div class="content"><a class="title" href="/2025/08/22/%E5%B7%A5%E5%85%B7/Vitest%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B5/" title="Vitest 测试实践">Vitest 测试实践</a><time datetime="2025-08-21T17:36:35.719Z" title="发表于 2025-08-22 01:36:35">2025-08-22</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由Github托管"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2025 By <a class="footer-bar-link" href="/" title="Breezli" target="_blank">Breezli</a></div></div><div id="footer-type-tips"></div><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#footer-type-tips", {
      strings: ["总思念，紫竹萧萧月如钩，溪光摇荡屋如舟","思念那，青山在，绿水流。","-----","花繁一瞬，形色浮云","撇去眼前浮云，方得心之自由。","-----","即使最后归于空寂","过程之间的有情","也同样动容。","-----"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("footer-type-tips").innerHTML = '总思念，紫竹萧萧月如钩，溪光摇荡屋如舟'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.cbd.int/typed.js@2.1.0/dist/typed.umd.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">73</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">9</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">使用</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://docs.anheyu.com/" title="安知鱼主题"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://docs.anheyu.com/favicon.ico" alt="安知鱼主题"/><span class="back-menu-item-text">安知鱼主题</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://7bu.top/" title="去不图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://bu.dusays.com/2025/03/05/67c7f047dfa72.gif&quot;" data-lazy-src="https://7bu.top/favicon.ico" alt="去不图床"/><span class="back-menu-item-text">去不图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/?id=13242559326&amp;server=netease"><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/charts/"><i class="anzhiyufont anzhiyu-icon-cube faa-tada" style="font-size: 0.9em;"></i><span> 统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 梦境</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-plant-fill faa-tada" style="font-size: 0.9em;"></i><span> 簪花人间</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/cinema/"><i class="anzhiyufont anzhiyu-icon-book faa-tada" style="font-size: 0.9em;"></i><span> 匣中秋水</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/gallerygroup/"><i class="anzhiyufont anzhiyu-icon-instagram faa-tada" style="font-size: 0.9em;"></i><span> 彩云霁月</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 社交</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友链</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/games/"><i class="anzhiyufont anzhiyu-icon-rocket faa-tada" style="font-size: 0.9em;"></i><span> 游戏</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="13242559326" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.5"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/playlist?id=13242559326&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>var meting_api = "https://meting.qjqq.cn/?server=:server&type=:type&id=:id&auth=:auth&r=:r";
</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  //- const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  const grt = new Date("2025-3-1");
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);

  const ascll = [
    `   原来我这几十年的岁月，不过只是这样一个简单的故事.`,
    `
                                                                         
██████╗ ██████╗ ███████╗███████╗███████╗██╗     ██╗
██╔══██╗██╔══██╗██╔════╝██╔════╝╚══███╔╝██║     ██║
██████╔╝██████╔╝█████╗  █████╗    ███╔╝ ██║     ██║
██╔══██╗██╔══██╗██╔══╝  ██╔══╝   ███╔╝  ██║     ██║
██████╔╝██║  ██║███████╗███████╗███████╗███████╗██║
╚═════╝ ╚═╝  ╚═╝╚══════╝╚══════╝╚══════╝╚══════╝╚═╝

    `,
    "   已上线", dnum, "天",
    "©2025 By 松风狸 V1.6.14",
  ];

  setTimeout(
    Log.bind(
      console,
      "%c ⚡ %c 你正在访问 Breezli 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}%c\n`,
      "color:#ffb07c",
      "color:#ffb07c",
      "color:#ffb07c",
      "color:#ffb07c",
      "color:#ffb07c",
      "color:#ffb07c",
      "color:#425AEF"
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好,旅行客。", "color:white; background-color:#4f90d9", ""));
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script type="text/javascript" src="https://player.dogecloud.com/js/loader"></script><script src="/countdown/countdown.js" defer></script><script src="https://cdn.bootcdn.net/ajax/libs/echarts/4.9.0-rc.1/echarts.min.js" defer></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>